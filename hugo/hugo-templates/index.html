<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="这是 Hugo 如何使用模板文件来渲染网站内容、资源和数据的全面指南，包括模板的类型、查找顺序、基础模板、特定页面模板以及如何创建自定义输出格式等"><title>Hugo 模版应用指南</title>
<link rel=canonical href=https://all-in-obsidian.li3huo.com/hugo/hugo-templates/><link rel=stylesheet href=/scss/style.min.663803bebe609202d5b39d848f2d7c2dc8b598a2d879efa079fa88893d29c49c.css><meta property='og:title' content=" Hugo 模版应用指南"><meta property='og:description' content="这是 Hugo 如何使用模板文件来渲染网站内容、资源和数据的全面指南，包括模板的类型、查找顺序、基础模板、特定页面模板以及如何创建自定义输出格式等"><meta property='og:url' content='https://all-in-obsidian.li3huo.com/hugo/hugo-templates/'><meta property='og:site_name' content='All in Obsidian'><meta property='og:type' content='article'><meta property='article:section' content='Hugo'><meta property='article:tag' content='个人网站'><meta property='article:published_time' content='2024-08-15T00:00:00+00:00'><meta property='article:modified_time' content='2024-08-23T20:43:28+08:00'><meta name=twitter:title content=" Hugo 模版应用指南"><meta name=twitter:description content="这是 Hugo 如何使用模板文件来渲染网站内容、资源和数据的全面指南，包括模板的类型、查找顺序、基础模板、特定页面模板以及如何创建自定义输出格式等"><script async src="https://www.googletagmanager.com/gtag/js?id=397053425"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","397053425")}</script><style>:root{--article-font-family:"LXGW WenKai Screen", var(--base-font-family)}</style><script>(function(){const e=document.createElement("link");e.href="https://npm.elemecdn.com/lxgw-wenkai-screen-webfont/style.css",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=https://all-in-obsidian.li3huo.com/img/Obsidian.svg width=300 height=300 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>🍥</span></figure><div class=site-meta><h1 class=site-name><a href=/>All in Obsidian</a></h1><h2 class=site-description>笔记、作图、提案、个人网站 All in Obsidian</h2></div></header><ol class=menu-social><li><a href=https://github.com/twotwo/hugo-template target=_blank title=GitHub rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=https://twotwo.github.io/hugo-template/ target=_blank title=Home rel=me><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/menu/about/><svg class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg>
<span>About</span></a></li><li><a href=/menu/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span></a></li><li><a href=/page/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li><a href=/menu/links/><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>Links</span></a></li><li><a href=/obsidian/obsidian-101/><span>5 分钟向你推荐 Obsidian</span></a></li><li><a href=/obsidian/obsidian-review/><span>Obsidian 笔记综述</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>Dark Mode</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Table of contents</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#1-introduction>1. Introduction</a><ol><li><a href=#context>Context</a></li><li><a href=#actions>Actions</a><ol><li><a href=#whitespace>Whitespace</a></li><li><a href=#pipes>Pipes</a></li><li><a href=#line-splitting>Line splitting</a></li></ol></li><li><a href=#variables>Variables</a></li><li><a href=#functions>Functions</a></li><li><a href=#methods>Methods</a></li><li><a href=#comments>Comments</a></li><li><a href=#include>Include</a></li><li><a href=#examples>Examples</a></li></ol></li><li><a href=#2-template-types>2. Template types</a><ol><li><a href=#structure>Structure</a></li><li><a href=#types>Types</a></li></ol></li><li><a href=#3-template-lookup-order>3. Template lookup order</a><ol><li><a href=#lookup-rules>Lookup rules</a></li><li><a href=#target-a-template>Target a template</a></li></ol></li><li><a href=#4-base-templates>4. Base Templates</a></li><li><a href=#5-home-templates>5. Home Templates</a></li><li><a href=#6-single-templates>6. Single templates</a></li><li><a href=#7-section-templates>7. Section templates</a><ol><li><a href=#example-creating-a-default-section-template>Example: creating a default section template</a></li></ol></li><li><a href=#8-taxonomy-templates>8. Taxonomy templates</a><ol><li><a href=#sort>Sort</a></li><li><a href=#display-metadata>Display metadata</a></li></ol></li><li><a href=#9-term-templates>9. Term templates</a></li><li><a href=#10-partial-templates>10. Partial templates</a><ol><li><a href=#examples-1>Examples</a><ol><li><a href=#headerhtml>header.html</a></li><li><a href=#footerhtml>footer.html</a></li></ol></li></ol></li><li><a href=#11-content-view-templates>11. Content view templates</a></li><li><a href=#12-create-your-own-shortcodes>12. Create your own <code>shortcodes</code></a></li><li><a href=#13-sitemap-templates>13. Sitemap templates</a></li><li><a href=#14-rss-templates>14. RSS templates</a></li><li><a href=#15-custom-404-page>15. Custom 404 page</a></li><li><a href=#16-robotstxt-template>16. robots.txt template</a></li><li><a href=#17-menus>17. Menus</a><ol><li><a href=#overview>Overview</a></li><li><a href=#example>Example</a></li></ol></li><li><a href=#18-pagination>18. Pagination</a><ol><li><a href=#configuration>Configuration</a></li><li><a href=#examples-2>Examples</a></li><li><a href=#grouping>Grouping</a></li></ol></li><li><a href=#19-embedded-templates>19. Embedded templates</a><ol><li><a href=#disqus>Disqus</a></li><li><a href=#google-analytics>Google Analytics</a></li><li><a href=#open-graph>Open Graph</a></li><li><a href=#schema>Schema</a></li><li><a href=#twitter-cards>Twitter Cards</a></li></ol></li><li><a href=#20-custom-output-formats>20. Custom output formats</a></li></ol></nav></div></section></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><header class=article-category><a href=/categories/hugo/>Hugo</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/hugo/hugo-templates/>Hugo 模版应用指南</a></h2><h3 class=article-subtitle>这是 Hugo 如何使用模板文件来渲染网站内容、资源和数据的全面指南，包括模板的类型、查找顺序、基础模板、特定页面模板以及如何创建自定义输出格式等</h3></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>2024-08-15</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>7 minute read</time></div></footer></div></header><section class=article-content><p>Hugo 模板系统位于项目、主题或模块的 <code>layouts</code> 目录下，包含了一系列用于渲染内容、资源和数据的 HTML 文件。这些模板文件可以是不同的类型，包括基础模板、首页模板、单页模板、分类模板、分段模板、部分模板、内容视图模板、自定义短代码、网站地图模板、RSS 模板、404 错误页面模板、robots.txt 模板、菜单模板、分页模板、内嵌模板和自定义输出格式模板。</p><p>Hugo 有一套明确的规则来确定为给定页面选择哪个模板，这些规则从最具体的模板开始查找。模板的类型和用途多样，可以用来定制网站的外观和功能，如创建网站的皮肤、定义首页的独特布局、渲染单个页面、列出特定分类的页面、实现菜单和分页等。此外，Hugo 还提供了一些内嵌模板，以及支持多种输出格式，包括日历事件、电子书格式、Google AMP 和 JSON 搜索索引，或任何自定义文本格式。</p><h2 id=1-introduction>1. Introduction</h2><p><a class=link href=https://gohugo.io/templates/introduction/ target=_blank rel=noopener>模板系统介绍</a>，包括模板的基础知识、上下文、操作、变量、函数、方法、注释、包含其他模板以及示例等。</p><p>Hugo 使用 Go 的 <code>text/template</code> 和 <code>html/template</code> 包来处理模板，其中</p><ul><li><code>text/template</code> 用于生成文本输出</li><li><code>html/template</code> 用于生成安全的 HTML 输出，防止代码注入</li></ul><p>模板文件位于项目的 <code>layouts</code> 目录中，它们使用<strong>变量</strong>、<strong>函数</strong>和<strong>方法</strong>来转换内容、资源和数据，生成最终的发布页面。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{{ $v1 := 6 }}
</span></span><span class=line><span class=cl>{{ $v2 := 7 }}
</span></span><span class=line><span class=cl>&lt;p&gt;The product of {{ $v1 }} and {{ $v2 }} is {{ mul $v1 $v2 }}.&lt;/p&gt;
</span></span></code></pre></div><h3 id=context>Context</h3><p>模板中的上下文是指传递给模板的数据，可以是简单值，也可以是对象和相关方法。点（<code>.</code>）表示当前的上下文。</p><p>模板操作通过大括号 <code>{{}}}</code> 表示，可以包含文字值、变量、函数和方法。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>&lt;h2&gt;{{ .Title }}&lt;/h2&gt;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>{{ range slice &#34;foo&#34; &#34;bar&#34; }}
</span></span><span class=line><span class=cl>  &lt;p&gt;{{ . }}&lt;/p&gt;
</span></span><span class=line><span class=cl>{{ end }}
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>{{ with &#34;baz&#34; }}
</span></span><span class=line><span class=cl>  &lt;p&gt;{{ . }}&lt;/p&gt;
</span></span><span class=line><span class=cl>{{ end }}
</span></span></code></pre></div><h3 id=actions>Actions</h3><p>A template action may contain literal values (<a class=link href=https://gohugo.io/getting-started/glossary/#boolean target=_blank rel=noopener>boolean</a>, <a class=link href=https://gohugo.io/getting-started/glossary/#string target=_blank rel=noopener>string</a>, <a class=link href=https://gohugo.io/getting-started/glossary/#integer target=_blank rel=noopener>integer</a>, and <a class=link href=https://gohugo.io/getting-started/glossary/#float target=_blank rel=noopener>float</a>), variables, functions, and methods.</p><h4 id=whitespace>Whitespace</h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{{- $convertToLower := true -}}
</span></span><span class=line><span class=cl>{{- if $convertToLower -}}
</span></span><span class=line><span class=cl>  &lt;h2&gt;{{ strings.ToLower .Title }}&lt;/h2&gt;
</span></span><span class=line><span class=cl>{{- end -}}
</span></span></code></pre></div><p>消除空行，包括 spaces, horizontal tabs, carriage returns, and newlines</p><h4 id=pipes>Pipes</h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{{ strings.TrimSuffix &#34;o&#34; (strings.ToLower &#34;Hugo&#34;) }} → hug
</span></span><span class=line><span class=cl>{{ &#34;Hugo&#34; | strings.ToLower | strings.TrimSuffix &#34;o&#34; }} → hug
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>{{ mul 6 (add 2 5) }} → 42
</span></span><span class=line><span class=cl>{{ 5 | add 2 | mul 6 }} → 42
</span></span></code></pre></div><h4 id=line-splitting>Line splitting</h4><p>You can split a template action over two or more lines.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{{ $v := or .Site.Language.LanguageName .Site.Language.Lang }}
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>{{ $v := or 
</span></span><span class=line><span class=cl>  .Site.Language.LanguageName
</span></span><span class=line><span class=cl>  .Site.Language.Lang
</span></span><span class=line><span class=cl>}}
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>{{ $msg := &#34;This is line one.\nThis is line two.&#34; }}
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>{{ $msg := `This is line one.
</span></span><span class=line><span class=cl>This is line two.`
</span></span><span class=line><span class=cl>}}
</span></span></code></pre></div><h3 id=variables>Variables</h3><p>Hugo 还支持变量的声明和赋值，以及对变量进行操作，如切片和 map。Hugo 提供了大量自定义函数，分为不同的命名空间，并且支持管道操作符来连续调用函数和方法。</p><p>With variables that represent a slice or map, use the <a class=link href=https://gohugo.io/functions/collections/indexfunction/ target=_blank rel=noopener><code>index</code></a> function to return the desired value.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{{ $slice := slice &#34;foo&#34; &#34;bar&#34; &#34;baz&#34; }}
</span></span><span class=line><span class=cl>{{ index $slice 2 }} → baz
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>{{ $map := dict &#34;a&#34; &#34;foo&#34; &#34;b&#34; &#34;bar&#34; &#34;c&#34; &#34;baz&#34; }}
</span></span><span class=line><span class=cl>{{ index $map &#34;c&#34; }} → baz
</span></span></code></pre></div><p>With variables that represent a map or object, <a class=link href=https://gohugo.io/getting-started/glossary/#chain target=_blank rel=noopener>chain</a> identifiers to return the desired value or to access the desired method.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{{ $map := dict &#34;a&#34; &#34;foo&#34; &#34;b&#34; &#34;bar&#34; &#34;c&#34; &#34;baz&#34; }}
</span></span><span class=line><span class=cl>{{ $map.c }} → baz
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>{{ $homePage := .Site.Home }}
</span></span><span class=line><span class=cl>{{ $homePage.Title }} → My Homepage
</span></span></code></pre></div><h3 id=functions>Functions</h3><p>Hugo provides hundreds of custom <a class=link href=https://gohugo.io/functions/ target=_blank rel=noopener>functions</a> categorized by namespace.</p><p><code>{{ $total := add 1 2 3 4 }}</code></p><h3 id=methods>Methods</h3><p>The most commonly accessed objects are the <a class=link href=https://gohugo.io/methods/page/ target=_blank rel=noopener><code>Page</code></a> and <a class=link href=https://gohugo.io/methods/site/ target=_blank rel=noopener><code>Site</code></a> objects. This is a small sampling of the <a class=link href=https://gohugo.io/methods/ target=_blank rel=noopener>methods</a> available to each object.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{{ .Site.Title }} → My Site Title
</span></span><span class=line><span class=cl>{{ .Title }} → My Page Title
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>{{ $page := .Page.GetPage &#34;/books/les-miserables&#34; }}
</span></span><span class=line><span class=cl>{{ $page.Title }} → Les Misérables
</span></span></code></pre></div><h3 id=comments>Comments</h3><p>模板中的注释需要使用特定的语法，而不是 HTML 注释，以避免在渲染过程中被错误处理。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{{/* This is an inline comment. */}}
</span></span><span class=line><span class=cl>{{- /* This is an inline comment with adjacent whitespace removed. */ -}}
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>{{ &#34;&lt;!-- I am an HTML comment. --&gt;&#34; | safeHTML }}
</span></span><span class=line><span class=cl>{{ printf &#34;&lt;!-- This is the %s site. --&gt;&#34; .Site.Title | safeHTML }}
</span></span></code></pre></div><h3 id=include>Include</h3><p>Hugo 允许通过 template、partial 和 partialCached 函数包含其他模板文件。</p><h3 id=examples>Examples</h3><p>多个示例，展示了如何使用条件语句、循环、重新绑定上下文以及访问站点和页面参数等。</p><p>Please see the <a class=link href=https://gohugo.io/functions/ target=_blank rel=noopener>functions</a>, <a class=link href=https://gohugo.io/methods/ target=_blank rel=noopener>methods</a>, and <a class=link href=https://gohugo.io/templates/ target=_blank rel=noopener>templates</a> documentation for specific examples.</p><h2 id=2-template-types>2. Template types</h2><p>Hugo 静态网站生成器提供了多种<a class=link href=https://gohugo.io/templates/types/ target=_blank rel=noopener>模板类型</a>，用于渲染网站内容、资源和数据。</p><h3 id=structure>Structure</h3><p>Hugo 允许开发者通过在项目根目录下的 <code>layouts</code> 目录中创建不同类型的模板来定制网站的渲染效果。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>layouts/
</span></span><span class=line><span class=cl>├── _default/
</span></span><span class=line><span class=cl>│   ├── _markup/
</span></span><span class=line><span class=cl>│   │   ├── render-image.html   &lt;-- render hook
</span></span><span class=line><span class=cl>│   │   └── render-link.html    &lt;-- render hook
</span></span><span class=line><span class=cl>│   ├── baseof.html
</span></span><span class=line><span class=cl>│   ├── home.html
</span></span><span class=line><span class=cl>│   ├── section.html
</span></span><span class=line><span class=cl>│   ├── single.html
</span></span><span class=line><span class=cl>│   ├── taxonomy.html
</span></span><span class=line><span class=cl>│   └── term.html
</span></span><span class=line><span class=cl>├── articles/
</span></span><span class=line><span class=cl>│   └── card.html               &lt;-- content view
</span></span><span class=line><span class=cl>├── partials/
</span></span><span class=line><span class=cl>│   ├── footer.html
</span></span><span class=line><span class=cl>│   └── header.html
</span></span><span class=line><span class=cl>└── shortcodes/
</span></span><span class=line><span class=cl>    ├── audio.html
</span></span><span class=line><span class=cl>    └── video.html
</span></span></code></pre></div><p>开发者需要熟悉 Hugo 的模板查找顺序，以便准确地选择和创建适用的模板类型。</p><h3 id=types>Types</h3><ul><li>基础模板（<code>baseof.html</code>），用于定义网站的通用外壳结构；</li><li>首页模板（<code>home.html</code>），用于渲染网站首页；</li><li>单页模板（<code>single.html</code>），用于渲染单个页面；</li><li>分区模板（<code>section.html</code>），用于渲染网站内容的分区列表；</li><li>分类模板（<code>taxonomy.html</code>），用于渲染分类列表；</li><li>术语模板（<code>term.html</code>），用于渲染与特定术语关联的页面列表；</li><li>部分模板（如 <code>partials/footer.html</code>），用于渲染网站的组件部分；</li><li>内容视图模板，用于在特定内容类型或分区中渲染页面组件；</li><li>渲染钩子模板（<code>_markup/*.html</code>），用于自定义 Markdown 转换为 HTML 的过程；</li><li>短代码模板（<code>shortcodes/*.html</code>），用于在内容页面中嵌入可重用组件；</li><li>其他特殊模板，用于生成站点地图、RSS 订阅、404 错误页面和 robots.txt 文件</li></ul><h2 id=3-template-lookup-order>3. Template lookup order</h2><p><a class=link href=https://gohugo.io/templates/lookup-order/ target=_blank rel=noopener>模板查找顺序</a>的规则和示例，详细说明了如何根据页面的类型、布局、输出格式、语言和分类等参数来选择合适的模板。</p><h3 id=lookup-rules>Lookup rules</h3><p>Hugo 使用一系列预定义的规则来选择用于渲染特定页面的模板。这些规则基于页面的种类（如单页、列表页）、布局设置、输出格式（如 HTML、AMP、JSON、RSS）、语言、类型（根据 front matter 中的 <code>type</code> 或节的根名称）以及部分（对于 section、taxonomy 和 term 类型的页面）。</p><h3 id=target-a-template>Target a template</h3><p>模板查找顺序从最具体性到最不具体性排列，包括项目和主题的布局文件夹中的模板。网页提供了多个示例，包括首页、单页、部分、分类和 RSS 模板的查找顺序，以及如何通过在 front matter 中指定 <code>type</code>、<code>layout</code> 或两者来定位特定模板。此外，还介绍了如何为不同的输出格式和语言设置模板，以及如何为特定的页面类型创建基础模板。最后，网页还提供了一些基于示例配置的模板查找顺序表格，以帮助用户更好地理解和应用这些规则。</p><h2 id=4-base-templates>4. Base Templates</h2><p><a class=link href="https://www.youtube.com/watch?v=QVOMCYitLEc" target=_blank rel=noopener>https://www.youtube.com/watch?v=QVOMCYitLEc</a></p><p><a class=link href=https://gohugo.io/templates/base/ target=_blank rel=noopener>Base templates</a> 主要介绍了 Hugo 静态网站生成器中的基础模板（base templates）和块（block）构造的使用方法，以及如何通过它们定义和覆盖网站的主要模板结构。</p><p>在 <code>_default/baseof.html</code> 文件中定义了一个简单的基础模板，它为所有页面提供了一个通用的 HTML 结构，包括头部、标题和页脚块。这些块可以包含默认内容，并且可以在特定的模板中被覆盖。</p><h2 id=5-home-templates>5. Home Templates</h2><p><a class=link href="https://www.youtube.com/watch?v=ut1xtRZ1QOA" target=_blank rel=noopener>https://www.youtube.com/watch?v=ut1xtRZ1QOA</a></p><p><a class=link href=https://gohugo.io/templates/home/ target=_blank rel=noopener>Home templates</a> 介绍了 Hugo 网站首页模板的使用和配置方法。</p><p>Hugo 允许用户为网站的首页创建一个独特的模板。首页模板是构建网站时唯一必需的模板，对于引导新网站和模板或开发单页网站非常有用。</p><p>Hugo 在查找首页模板时按照以下<a class=link href=https://gohugo.io/templates/lookup-order/#home-templates target=_blank rel=noopener>顺序</a>进行查找：</p><ol><li><code>layouts/index.html</code></li><li><code>layouts/home.html</code></li><li><code>layouts/list.html</code></li><li><code>layouts/_default/{index, home, list}.html</code>
首页内容和 front matter 可以通过在 <code>content</code> 文件夹根目录下的 <code>_index.md</code> 文件添加。</li></ol><p><code>vi themes/twotwo/layouts/_default/home.html</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl>{{ define &#34;main&#34; }}
</span></span><span class=line><span class=cl>  {{ .Content }}
</span></span><span class=line><span class=cl>  {{ range first 7 site.RegularPages }}
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>h2</span><span class=p>&gt;&lt;</span><span class=nt>a</span> <span class=na>href</span><span class=o>=</span><span class=s>&#34;{{ .RelPermalink }}&#34;</span><span class=p>&gt;</span>{{ .LinkTitle }}<span class=p>&lt;/</span><span class=nt>a</span><span class=p>&gt;&lt;/</span><span class=nt>h2</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    {{ .Summary }}
</span></span><span class=line><span class=cl>  {{ end }}
</span></span><span class=line><span class=cl>{{ end }}
</span></span></code></pre></div><p>首页显示最新 7 篇(first 7) Post。</p><h2 id=6-single-templates>6. Single templates</h2><p><a class=link href=https://gohugo.io/templates/single/ target=_blank rel=noopener>Single templates</a> 介绍了如何在 Hugo 静态网站生成器中创建和使用单页模板（single templates），以及如何通过继承基础模板来定制页面内容的展示。</p><p>单页模板的使用和创建过程。首先，介绍了如何创建一个基本的单页模板，该模板继承自网站的基础模板，并展示了如何在模板中使用 <code>.Title</code> 和 <code>.Content</code> 变量来显示页面标题和内容。接着，网页提供了一个更高级的单页模板示例，该示例展示了如何在页面中包含创建日期、内容以及与页面相关的 “标签” 分类列表。此外，还提到了模板查找顺序的重要性，强调在选择模板路径时应考虑到所需的具体程度。最后，网页还提供了关于如何改进该页面内容的信息，并注明了上次更新的日期和具体更新内容。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{{ define &#34;main&#34; }}
</span></span><span class=line><span class=cl>  &lt;h1&gt;{{ .Title }}&lt;/h1&gt;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  {{ $dateMachine := .Date | time.Format &#34;2006-01-02T15:04:05-07:00&#34; }}
</span></span><span class=line><span class=cl>  {{ $dateHuman := .Date | time.Format &#34;:date_long&#34; }}
</span></span><span class=line><span class=cl>  &lt;time datetime=&#34;{{ $dateMachine }}&#34;&gt;{{ $dateHuman }}&lt;/time&gt;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  {{ .Content }}
</span></span><span class=line><span class=cl>  {{ partial &#34;terms.html&#34; (dict &#34;taxonomy&#34; &#34;tags&#34; &#34;page&#34; .) }}
</span></span><span class=line><span class=cl>{{ end }}
</span></span></code></pre></div><h2 id=7-section-templates>7. Section templates</h2><p><a class=link href=https://gohugo.io/templates/section/ target=_blank rel=noopener>Section 模板</a> 的使用方法，包括如何向 Section 模板添加内容和前端数据，以及如何设置和查找 Section 模板，还给出了创建默认 Section 模板和使用 <code>.Site.GetPage</code> 方法的示例。</p><p>Section 模板是 Hugo 中用于列出 section list 的模板，可以通过 <code>_index.md</code> 文件添加内容和前端数据。</p><p>Section 模板的查找顺序遵循 Hugo 的模板查找机制。</p><p>创建默认 Section 模板时，可以使用 <code>.Content</code> 来显示内容，使用 <code>where</code> 和 <code>.Paginate</code> 来过滤和分页列出页面。</p><p><code>.Site.GetPage</code> 方法可以用来获取 Section 的标题，但它需要对应 Section 目录下存在 <code>_index.md</code> 文件。如果文件不存在，将返回 <code>nil</code> 并输出 Section 的默认标题。</p><h3 id=example-creating-a-default-section-template>Example: creating a default section template</h3><p><code>layouts/_default/section.html</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{{ define &#34;main&#34; }}
</span></span><span class=line><span class=cl>  &lt;main&gt;
</span></span><span class=line><span class=cl>    {{ .Content }}
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    {{ $pages := where site.RegularPages &#34;Type&#34; &#34;posts&#34; }}
</span></span><span class=line><span class=cl>    {{ $paginator := .Paginate $pages }}
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    {{ range $paginator.Pages }}
</span></span><span class=line><span class=cl>      &lt;h2&gt;&lt;a href=&#34;{{ .RelPermalink }}&#34;&gt;{{ .LinkTitle }}&lt;/a&gt;&lt;/h2&gt;
</span></span><span class=line><span class=cl>    {{ end }}
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    {{ template &#34;_internal/pagination.html&#34; . }}
</span></span><span class=line><span class=cl>  &lt;/main&gt;
</span></span><span class=line><span class=cl>{{ end }}
</span></span></code></pre></div><p>Site Method: <a class=link href=https://gohugo.io/methods/site/mainsections/ target=_blank rel=noopener>MainSections</a></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>params</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>mainSections</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>books</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>films</span><span class=w>
</span></span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{{ range where .Site.RegularPages &#34;Section&#34; &#34;in&#34; .Site.MainSections }}
</span></span><span class=line><span class=cl>  &lt;h2&gt;&lt;a href=&#34;{{ .RelPermalink }}&#34;&gt;{{ .LinkTitle }}&lt;/a&gt;&lt;/h2&gt;
</span></span><span class=line><span class=cl>{{ end }}
</span></span></code></pre></div><h2 id=8-taxonomy-templates>8. Taxonomy templates</h2><p><a class=link href=https://gohugo.io/templates/taxonomy/ target=_blank rel=noopener>Taxonomy</a> （分类）模板功能，允许开发者自定义分类页面的外观和内容。通过创建 <code>layouts/_default/taxonomy.html</code> 文件，可以定义一个基本的分类模板，该模板可以继承网站的基础布局，并显示当前分类下的所有项。</p><p>在模板中，可以使用 <code>.Data.Singular</code> 和 <code>.Data.Plural</code> 来获取分类的单数和复数名称，使用 <code>.Data.Terms</code> 来获取包含所有分类项和相关页面的 <code>Taxonomy</code> 对象。分类项可以按字母顺序排列使用 <code>.Data.Terms.Alphabetical</code>，或者按项关联页面数量排列使用 <code>.Data.Terms.ByCount</code>。此外，可以创建特定分类的模板文件，例如 <code>layouts/authors/taxonomy.html</code>，以提供更具体性的自定义。在分类模板中，还可以展示每个分类项的元数据，例如作者的机构和头像图片。这些功能使得 Hugo 用户能够灵活地管理和展示网站内容的分类结构。</p><h3 id=sort>Sort</h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{{ define &#34;main&#34; }}
</span></span><span class=line><span class=cl>  &lt;h1&gt;{{ .Title }}&lt;/h1&gt;
</span></span><span class=line><span class=cl>  {{ .Content }}
</span></span><span class=line><span class=cl>  {{ range .Data.Terms.ByCount }}
</span></span><span class=line><span class=cl>    &lt;h2&gt;&lt;a href=&#34;{{ .Page.RelPermalink }}&#34;&gt;{{ .Page.LinkTitle }}&lt;/a&gt; ({{ .Count }})&lt;/h2&gt;
</span></span><span class=line><span class=cl>  {{ end }}
</span></span><span class=line><span class=cl>{{ end }}
</span></span></code></pre></div><ul><li><code>{{ range .Data.Terms.ByCount }}</code> Sort by term count</li><li><code>{{ range .Data.Terms.Alphabetical }}</code> Sort alphabetically</li></ul><h3 id=display-metadata>Display metadata</h3><p>通过在内容目录中创建对应的分支捆绑包（branch bundle），可以为每个分类项添加元数据，并在分类模板中展示这些信息，如作者的机构和头像。</p><h2 id=9-term-templates>9. Term templates</h2><p><a class=link href=https://gohugo.io/templates/term/ target=_blank rel=noopener>Term</a> （术语）模版，渲染与当前术语关联的页面列表，定制和展示术语的元数据。</p><p>ugo 允许用户通过创建术语模板来定制特定术语的页面展示。术语模板继承自基础模板，并在 <code>layouts/_default/term.html</code> 中渲染与当前术语相关联的页面列表。</p><p>用户可以通过设置 <code>capitalizeListTitles</code> 为 <code>false</code> 来避免术语名称的自动大写。</p><p><code>layouts/_default/term.html</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{{ define &#34;main&#34; }}
</span></span><span class=line><span class=cl>  &lt;h1&gt;{{ .Title }}&lt;/h1&gt;
</span></span><span class=line><span class=cl>  {{ .Content }}
</span></span><span class=line><span class=cl>  {{ range .Pages }}
</span></span><span class=line><span class=cl>    &lt;h2&gt;&lt;a href=&#34;{{ .RelPermalink }}&#34;&gt;{{ .LinkTitle }}&lt;/a&gt;&lt;/h2&gt;
</span></span><span class=line><span class=cl>  {{ end }}
</span></span><span class=line><span class=cl>{{ end }}
</span></span></code></pre></div><h2 id=10-partial-templates>10. Partial templates</h2><p><a class=link href="https://www.youtube.com/watch?v=pjS4pOLyB7c" target=_blank rel=noopener>https://www.youtube.com/watch?v=pjS4pOLyB7c</a></p><p><a class=link href=https://gohugo.io/templates/partial/ target=_blank rel=noopener>Partial templates</a> 介绍如何使用和组织局部模板，以及如何在模板中传递和返回值，以及如何缓存局部模板以提高性能。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>layouts/
</span></span><span class=line><span class=cl>└── partials/
</span></span><span class=line><span class=cl>    ├── footer/
</span></span><span class=line><span class=cl>    │   ├── scripts.html
</span></span><span class=line><span class=cl>    │   └── site-footer.html
</span></span><span class=line><span class=cl>    ├── head/
</span></span><span class=line><span class=cl>    │   ├── favicons.html
</span></span><span class=line><span class=cl>    │   ├── metadata.html
</span></span><span class=line><span class=cl>    │   ├── prerender.html
</span></span><span class=line><span class=cl>    │   └── twitter.html
</span></span><span class=line><span class=cl>    └── header/
</span></span><span class=line><span class=cl>        ├── site-header.html
</span></span><span class=line><span class=cl>        └── site-nav.html
</span></span></code></pre></div><p>Partial Templates 是 Hugo 中用于创建更加模块化和可重用的组件的工具。它们位于 <code>layouts/partials</code> 目录下，可以通过子目录进行组织。</p><p>在模板中调用局部模板时，需要使用 <code>{{ partial "&lt;PATH>/&lt;PARTIAL>.html" . }}</code> 的格式，并确保传递了上下文（<code>.</code>）。</p><h3 id=examples-1>Examples</h3><h4 id=headerhtml>header.html</h4><p>The following <code>header.html</code> partial template is used for <a class=link href=https://spf13.com/ target=_blank rel=noopener>spf13.com</a>:</p><p><code>layouts/partials/header.html</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>&lt;!DOCTYPE html&gt;
</span></span><span class=line><span class=cl>&lt;html class=&#34;no-js&#34; lang=&#34;en-US&#34; prefix=&#34;og: http://ogp.me/ns# fb: http://ogp.me/ns/fb#&#34;&gt;
</span></span><span class=line><span class=cl>&lt;head&gt;
</span></span><span class=line><span class=cl>    &lt;meta charset=&#34;utf-8&#34;&gt;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    {{ partial &#34;meta.html&#34; . }}
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    &lt;base href=&#34;{{ .Site.BaseURL }}&#34;&gt;
</span></span><span class=line><span class=cl>    &lt;title&gt; {{ .Title }} : spf13.com &lt;/title&gt;
</span></span><span class=line><span class=cl>    &lt;link rel=&#34;canonical&#34; href=&#34;{{ .Permalink }}&#34;&gt;
</span></span><span class=line><span class=cl>    {{ if .RSSLink }}&lt;link href=&#34;{{ .RSSLink }}&#34; rel=&#34;alternate&#34; type=&#34;application/rss+xml&#34; title=&#34;{{ .Title }}&#34; /&gt;{{ end }}
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    {{ partial &#34;head_includes.html&#34; . }}
</span></span><span class=line><span class=cl>&lt;/head&gt;
</span></span></code></pre></div><h4 id=footerhtml>footer.html</h4><p>The following <code>footer.html</code> partial template is used for <a class=link href=https://spf13.com/ target=_blank rel=noopener>spf13.com</a>:</p><p><code>layouts/partials/footer.html</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>&lt;footer&gt;
</span></span><span class=line><span class=cl>  &lt;div&gt;
</span></span><span class=line><span class=cl>    &lt;p&gt;
</span></span><span class=line><span class=cl>    &amp;copy; 2013-14 Steve Francia.
</span></span><span class=line><span class=cl>    &lt;a href=&#34;https://creativecommons.org/licenses/by/3.0/&#34; title=&#34;Creative Commons Attribution&#34;&gt;Some rights reserved&lt;/a&gt;;
</span></span><span class=line><span class=cl>    please attribute properly and link back.
</span></span><span class=line><span class=cl>    &lt;/p&gt;
</span></span><span class=line><span class=cl>  &lt;/div&gt;
</span></span><span class=line><span class=cl>&lt;/footer&gt;
</span></span></code></pre></div><h2 id=11-content-view-templates>11. Content view templates</h2><p>使用 <a class=link href=https://gohugo.io/templates/content-view/ target=_blank rel=noopener>Content view templates</a> 创建不同的内容展示方式，以便在列表和摘要视图中灵活呈现内容。</p><p>开发者可以通过在每个内容类型目录中创建具有特定视图名称的模板来实现这一点。例如，可以为 <code>posts</code> 和 <code>projects</code> 内容类型创建 <code>li</code> 和 <code>summary</code> 视图，这些视图位于 <code>single.html</code> 旁边。</p><h2 id=12-create-your-own-shortcodes>12. Create your own <code>shortcodes</code></h2><p><a class=link href=https://gohugo.io/templates/shortcode/ target=_blank rel=noopener>Create your own shortcodes</a> 主要介绍了如何在 Hugo 静态网站生成器中创建和使用自定义短代码（shortcodes），以及如何通过短代码模板文件扩展 Hugo 的功能，实现在内容文件中嵌入复杂布局和功能的方法。</p><p>自定义短代码的 HTML 模板文件需要放置在 <code>layouts/shortcodes</code> 目录下，并且可以通过文件名来调用短代码。</p><h2 id=13-sitemap-templates>13. Sitemap templates</h2><p>Hugo 提供了内置的网站地图模板(<a class=link href=https://gohugo.io/templates/sitemap/ target=_blank rel=noopener>Sitemap templates</a>)，支持单语言和多语言项目，并允许用户配置和覆盖默认设置。</p><h2 id=14-rss-templates>14. RSS templates</h2><p><a class=link href=https://gohugo.io/templates/rss/ target=_blank rel=noopener>RSS templates</a></p><h2 id=15-custom-404-page>15. Custom 404 page</h2><p><a class=link href=https://gohugo.io/templates/404/ target=_blank rel=noopener>Custom 404 page</a></p><h2 id=16-robotstxt-template>16. robots.txt template</h2><p><a class=link href=https://gohugo.io/templates/robots/ target=_blank rel=noopener>robots.txt template</a></p><h2 id=17-menus>17. Menus</h2><p><a class=link href=https://gohugo.io/templates/menu/ target=_blank rel=noopener>Menus</a> 主要介绍了在 Hugo 静态网站生成器中如何使用模板创建和渲染菜单。</p><h3 id=overview>Overview</h3><p>决定菜单渲染方式的三个因素：</p><ol><li>菜单项的定义方法（自动、前置元数据或站点配置）</li><li>菜单结构（扁平或嵌套）</li><li>菜单项的本地化方法（站点配置或翻译表）</li></ol><h3 id=example>Example</h3><p>示例模板，展示了如何递归地 “遍历” 菜单结构，渲染出本地化且可访问性良好的嵌套列表。该模板还展示了如何在当前页面上标记菜单项的活动状态。</p><h2 id=18-pagination>18. Pagination</h2><p><a class=link href=https://gohugo.io/templates/pagination/ target=_blank rel=noopener>Pagination</a> 介绍了 Hugo 静态网站生成器中的分页功能，包括分页的概念、配置、方法、示例、缓存、分组以及导航。</p><p>大型列表页面不仅不利于用户导航，还会导致加载时间延长和信息检索困难。为了改善这一点，Hugo 提供了对 <code>home</code>、<code>section</code>、<code>taxonomy</code> 和 <code>term</code> 页面进行分页的配置选项，包括是否禁用首页别名（disableAliases）、每个分页器中的页面数量（pagerSize）和分页 URL 路径（path）。在多语言站点中，可以为每种语言定义不同的分页行为。</p><h3 id=configuration>Configuration</h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>pagination</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>disableAliases</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>pagerSize</span><span class=p>:</span><span class=w> </span><span class=m>10</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class=l>page</span><span class=w>
</span></span></span></code></pre></div><h3 id=examples-2>Examples</h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{{ $pages := where site.RegularPages &#34;Type&#34; &#34;posts&#34; }}
</span></span><span class=line><span class=cl>{{ $paginator := .Paginate $pages.ByTitle 7 }}
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>{{ range $paginator.Pages }}
</span></span><span class=line><span class=cl>  &lt;h2&gt;&lt;a href=&#34;{{ .RelPermalink }}&#34;&gt;{{ .LinkTitle }}&lt;/a&gt;&lt;/h2&gt;
</span></span><span class=line><span class=cl>{{ end }}
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>{{ template &#34;_internal/pagination.html&#34; . }}
</span></span></code></pre></div><h3 id=grouping>Grouping</h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{{ $pages := where site.RegularPages &#34;Type&#34; &#34;posts&#34; }}
</span></span><span class=line><span class=cl>{{ $paginator := .Paginate ($pages.GroupByDate &#34;Jan 2006&#34;) }}
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>{{ range $paginator.PageGroups }}
</span></span><span class=line><span class=cl>  &lt;h2&gt;{{ .Key }}&lt;/h2&gt;
</span></span><span class=line><span class=cl>  {{ range .Pages }}
</span></span><span class=line><span class=cl>    &lt;h3&gt;&lt;a href=&#34;{{ .RelPermalink }}&#34;&gt;{{ .LinkTitle }}&lt;/a&gt;&lt;/h3&gt;
</span></span><span class=line><span class=cl>  {{ end }}
</span></span><span class=line><span class=cl>{{ end }}
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>{{ template &#34;_internal/pagination.html&#34; . }}
</span></span></code></pre></div><h2 id=19-embedded-templates>19. Embedded templates</h2><p>Hugo 提供了一系列内嵌模板(<a class=link href=https://gohugo.io/templates/embedded/ target=_blank rel=noopener>Embedded templates</a>)，用于实现常见的网站功能，如 Disqus 评论系统、Google Analytics 分析、Open Graph 协议、Schema 微数据以及 Twitter Cards 等。</p><h3 id=disqus>Disqus</h3><p>Hugo 内置了 Disqus 评论系统的模板，用户可以通过在 <code>layouts/partials</code> 目录下创建同名文件来覆盖内嵌模板，并在模板中通过 <code>{{ partial "disqus.html" . }}</code> 调用。配置 Disqus 需要在网站配置文件中设置 <code>shortname</code>，并且可以在内容的前端元数据中设置 <code>disqus_identifier</code>、<code>disqus_title</code> 和 <code>disqus_url</code>。</p><h3 id=google-analytics>Google Analytics</h3><p>Hugo 支持 Google Analytics 4，并提供了相应的内嵌模板。开发者可以通过将模板代码复制到 <code>layouts/partials</code> 目录下的文件中来自定义模板，并通过 <code>{{ partial "google_analytics.html" . }}</code> 调用。在配置文件中设置 <code>googleAnalytics.ID</code> 来配置跟踪 ID。</p><h3 id=open-graph>Open Graph</h3><p>Hugo 提供了 Open Graph 协议的内嵌模板，用于定义网页在社交图谱中作为丰富对象的元数据。开发者可以通过 <code>{{ partial "opengraph.html" . }}</code> 调用模板，并在网站配置文件和内容的前端元数据中设置相关参数，如 <code>description</code>、<code>images</code> 和 <code>title</code>。</p><h3 id=schema>Schema</h3><p>Hugo 包含了用于渲染微数据 <code>meta</code> 标签的内嵌模板，可以通过 <code>{{ partial "schema.html" . }}</code> 调用。</p><h3 id=twitter-cards>Twitter Cards</h3><p>Hugo 提供了 Twitter Cards 的内嵌模板，用于在推文中链接到网站时展示丰富媒体内容。开发者可以通过 <code>{{ partial "twitter_cards.html" . }}</code> 调用模板，并在配置文件和内容的前端元数据中设置 <code>description</code>、<code>images</code> 和 <code>title</code>。如果没有在前端元数据中指定 <code>images</code>，Hugo 将搜索带有 <code>feature</code>、<code>cover</code> 或 <code>thumbnail</code> 的图片资源。</p><h2 id=20-custom-output-formats>20. Custom output formats</h2><p>Hugo 网站构建工具支持多种自定义输出格式(<a class=link href=https://gohugo.io/templates/output-formats/ target=_blank rel=noopener>Custom output formats</a>)，包括日历事件、电子书格式、Google AMP 和 JSON 搜索索引，以及任何自定义文本格式，并提供了如何配置媒体类型和输出格式以及创建相应模板的指南。</p></section><footer class=article-footer><section class=article-tags><a href=/tags/%E4%B8%AA%E4%BA%BA%E7%BD%91%E7%AB%99/>个人网站</a></section><section class=article-lastmod><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<span>Last updated on 2024-08-23 20:43</span></section></footer></article><script src=https://giscus.app/client.js data-repo=twotwo/obsidian-site data-repo-id=R_kgDOMAuGGg data-category=General data-category-id=DIC_kwDOMAuGGs4Cf5tG data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=top data-theme=light_protanopia data-lang=zh-CN data-loading crossorigin=anonymous async></script><script>function setGiscusTheme(e){let t=document.querySelector("iframe.giscus-frame");t&&t.contentWindow.postMessage({giscus:{setConfig:{theme:e}}},"https://giscus.app")}(function(){addEventListener("message",t=>{if(event.origin!=="https://giscus.app")return;e()}),window.addEventListener("onColorSchemeChange",e);function e(){setGiscusTheme(document.documentElement.dataset.scheme==="light"?"light_protanopia":"dark_protanopia")}})()</script><footer class=site-footer><section class=copyright>&copy;
2023 -
2025 All in Obsidian</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>